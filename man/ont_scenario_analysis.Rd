% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/scenarios.R
\name{ont_scenario_analysis}
\alias{ont_scenario_analysis}
\title{Scenario Analysis}
\usage{
ont_scenario_analysis(
  concept_id,
  scope,
  proposed_sql,
  current_version = NULL,
  scenario_name = NULL,
  store = TRUE,
  analyzed_by = NULL,
  con = NULL
)
}
\arguments{
\item{concept_id}{The concept to analyze.}

\item{scope}{The scope to analyze.}

\item{proposed_sql}{The proposed new SQL expression.}

\item{current_version}{Optional specific version to compare against.
If NULL, uses the active version.}

\item{scenario_name}{Optional name for this scenario.}

\item{store}{If TRUE, stores the scenario for later review.}

\item{analyzed_by}{Optional identifier for who ran the analysis.}

\item{con}{Optional DBI connection.}
}
\value{
A list with:
\itemize{
\item summary: counts of current_matches, proposed_matches, newly_included, newly_excluded, unchanged
\item newly_included: objects that would be added
\item newly_excluded: objects that would be removed
\item current_only: objects matching only current definition
\item proposed_only: objects matching only proposed definition
\item both: objects matching both definitions
\item scenario_id: if stored
}
}
\description{
Compares the current concept definition with a proposed new definition,
showing which objects would be newly included, newly excluded, or unchanged.
}
\examples{
\dontrun{
scenario <- ont_scenario_analysis(
  concept_id = "ready_for_discharge",
  scope = "clinical",
  proposed_sql = "los_days >= 2 AND NOT pending_results AND mobility_score > 3"
)

# View impact summary
scenario$summary

# See specific cases affected
scenario$newly_excluded
}

}
