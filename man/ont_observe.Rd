% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analysis.R
\name{ont_observe}
\alias{ont_observe}
\title{Record a Concept Observation}
\usage{
ont_observe(
  concept_id,
  scope,
  version = NULL,
  filter_expr = NULL,
  observation_type = "snapshot",
  store_details = FALSE,
  triggered_by = "manual",
  observer_id = NULL,
  notes = NULL,
  con = NULL
)
}
\arguments{
\item{concept_id}{Character. The concept to observe.}

\item{scope}{Character. The scope.}

\item{version}{Integer. The version. If \code{NULL}, uses active version.}

\item{filter_expr}{Character. Optional SQL WHERE clause to filter objects.}

\item{observation_type}{Character. Type of observation: "snapshot" (default),
"scheduled", or "triggered".}

\item{store_details}{Logical. If \code{TRUE}, store object-level details (can be
large for big datasets). Default \code{FALSE}.}

\item{triggered_by}{Character. What triggered this observation (e.g., "manual",
"schedule", "drift_check").}

\item{observer_id}{Character. Who/what initiated this observation.}

\item{notes}{Character. Optional notes.}

\item{con}{A DBI connection. If \code{NULL}, uses the active connection.}
}
\value{
A list with observation summary including observation_id, counts, and
prevalence rate.
}
\description{
Captures a point-in-time snapshot of a concept evaluation. Unlike audits
(which compare human judgment to system), observations are recorded facts
about what the system evaluated at a specific moment.
}
\details{
This enables:
\itemize{
\item Trend analysis: How does concept prevalence change over time?
\item Comparison: How do different versions or cohorts differ?
\item Monitoring: Track concept behavior in production
}
}
\examples{
\dontrun{
ont_connect(":memory:")
# ... setup ...

# Take a snapshot observation
obs <- ont_observe(
  concept_id = "ready_for_discharge",
  scope = "flow",
  triggered_by = "daily_monitor"
)

# Observe with a filter
obs <- ont_observe(
  concept_id = "ready_for_discharge",
  scope = "flow",
  filter_expr = "ward = 'ICU'",
  notes = "ICU-specific observation"
)
}

}
